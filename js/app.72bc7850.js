(function(){"use strict";var e={9534:function(e,l,t){var a=t(1690),r=(t(1530),t(2867)),n=(0,r.$N)(),s=t(4089);function u(e,l,t,a,r,n){const u=(0,s.g2)("GameContainer");return(0,s.uX)(),(0,s.Wv)(u)}var o=t(5151),c=(t(5786),t(3239),t(6332),t(3972));class i{static getScore(e,l,t){return e&&i.isYatzy(t)?i.getHighestPossibleScoreForField(l):i.getScoreForField(l,t)}static getScoreForField(e,l){let t=0;const a=["ones","twos","threes","fours","fives","sixes"];return a.includes(e)&&(t=this.getNumberFieldScore(e,l)),"threeOfAKind"===e&&(t=this.getThreeOrFourOfAKindScore(3,l)),"fourOfAKind"===e&&(t=this.getThreeOrFourOfAKindScore(4,l)),"fullHouse"===e&&(t=this.getFullHouseScore(l)),"smallStraight"===e&&(t=this.getStraightScore(4,l)),"largeStraight"===e&&(t=this.getStraightScore(5,l)),"chance"===e&&(t=this.getSumOfAllDice(l)),"yatzy"===e&&(t=this.getYatzyScore(l)),t}static getNumberFieldScore(e,l){let t=0;const a=this.mapSelectedFieldToNumber(e);return l.forEach(l=>{l===this.mapSelectedFieldToNumber(e)&&t++}),t*a}static getThreeOrFourOfAKindScore(e,l){const t=this.getLargestNumberOfSameValues(l);return t<e?0:this.getSumOfAllDice(l)}static getFullHouseScore(e){const l={};e.forEach(e=>{l[e]=(l[e]||0)+1});const t=Object.values(l);return t.includes(3)&&t.includes(2)?25:0}static getStraightScore(e,l){const t=l.sort((e,l)=>e-l);let a=1;return t.forEach((e,l)=>{e===t[l+1]-1&&a++}),a>=e?4===e?30:40:0}static getSumOfAllDice(e){let l=0;return e.forEach(e=>{l+=e}),l}static getYatzyScore(e){return this.isYatzy(e)?50:0}static getHighestPossibleScoreForField(e){switch(e){case"ones":return 5;case"twos":return 10;case"threes":return 15;case"fours":return 20;case"fives":return 25;case"sixes":return 30;case"threeOfAKind":return 30;case"fourOfAKind":return 30;case"fullHouse":return 25;case"smallStraight":return 30;case"largeStraight":return 40;case"chance":return 30;default:return 0}}static getTotalScore(e,l){let t=0;return t+=this.getSumOfScores(e),this.getSumOfScores(l)>=63&&(t+=35),t}static isYatzy(e){return 5===this.getLargestNumberOfSameValues(e)}static mapSelectedFieldToNumber(e){const l={ones:1,twos:2,threes:3,fours:4,fives:5,sixes:6};return l[e]}static getLargestNumberOfSameValues(e){const l={};let t=0;return e.forEach(e=>{l[e]=(l[e]||0)+1,t=Math.max(t,l[e])}),t}static getSumOfScores(e){let l=0;return e.forEach(e=>{l+=e}),l}static getRandomInt(e,l){return Math.floor(Math.random()*(l-e+1))+e}}var f=t(7633),d=(t(5332),t(7644),t(3325),t(7252)),v=t(4760),m=t(6973),h=t(8252),g=t(2778),y=t(3503);const p={class:"mb-8 font-weight-bold"},b={class:"field-title"},k={key:1,class:"displayed-score d-flex align-center justify-center"},S={key:0},O={class:"mt-4"},F={class:"d-flex align-center justify-space-between"},x={class:"displayed-score d-flex align-center justify-center"},_={class:"d-flex align-center justify-space-between"},w={class:"displayed-score d-flex align-center justify-center"},K={key:0};var R=(0,s.pM)({__name:"ScoreSheetsContainer",props:{numberOfPlayers:{},currentPlayer:{},dice:{},numberOfRolls:{}},emits:["swithPlayer"],setup(e,{expose:l,emit:t}){const a=e,r=t,n=(0,f.KR)([]),u={ones:"Ones (1 for each)",twos:"Twos (2 for each)",threes:"Threes (3 for each)",fours:"Fours (4 for each)",fives:"Fives (5 for each)",sixes:"Sixes (6 for each)",threeOfAKind:"Three of a kind (sum of all dice)",fourOfAKind:"Four of a kind (sum of all dice)",fullHouse:"Full house (25 points)",smallStraight:"Small straight (30 points)",largeStraight:"Large straight (40 points)",chance:"Chance (sum of all dice)",yatzy:"Yatzy (50 points)"},o=(0,f.KR)(!1),R=(0,f.KR)(""),C=e=>u[e],L=e=>e.replace(/\s(\w)/g,(e,l)=>l.toUpperCase()),E=e=>{const l=n.value.find(e=>e.name===a.currentPlayer?.name);if(!l)return;const t=a.dice.map(e=>e.value),s=null!==l.scores.yatzy,u=L(e),o=i.getScore(s,u,t);l.scores[u]=o,r("swithPlayer")},j=e=>{const l=["ones","twos","threes","fours","fives","sixes"],t=l.map(l=>e.scores[l]??0),a=i.getSumOfScores(t);e.bonus=a>=63?35:0,e.total=i.getTotalScore(Object.values(e.scores).map(e=>e??0),t)},P=e=>Object.values(e.scores).every(e=>null!==e),A=e=>{const l=[];for(let t=1;t<=e;t++){const e={name:`Player ${t}`,turn:1===t,scores:{ones:null,twos:null,threes:null,fours:null,fives:null,sixes:null,threeOfAKind:null,fourOfAKind:null,fullHouse:null,smallStraight:null,largeStraight:null,chance:null,yatzy:null},bonus:0,total:0};l.push(e)}n.value=l},z=()=>{n.value.forEach(e=>{for(const l in e.scores)e.scores[l]=null;e.bonus=0,e.total=0})},V=()=>{const e=n.value.find(e=>e.name===a.currentPlayer?.name);if(!e)return;const l=a.dice.map(e=>e.value);i.isYatzy(l)&&(o.value=!0,setTimeout(()=>{o.value=!1},2e3)),null!==e.scores.yatzy?R.value="Select any field and get the maximum score of that field.":R.value=""};return l({generatePlayersAndScores:A,resetScoreSheets:z,showYatzyDialogIfYatzy:V}),(e,l)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.value,e=>((0,s.uX)(),(0,s.Wv)(g.B,{key:e.name,class:"score-sheet",xs:"12",sm:"12",md:"4"},{default:(0,s.k6)(()=>[(0,s.bF)(v.J,null,{default:(0,s.k6)(()=>[(0,s.bF)(m.O,null,{default:(0,s.k6)(()=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",p,(0,c.v_)(e.name),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.scores,(l,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"d-flex align-center justify-space-between score-container"},[(0,s.Lk)("div",b,(0,c.v_)(C(t)),1),null===l?((0,s.uX)(),(0,s.Wv)(d.D,{key:0,flat:"",density:"compact",icon:"mdi-plus",color:"primary",disabled:e.name!==a.currentPlayer?.name||0===a.numberOfRolls,onClick:e=>E(t)},null,8,["disabled","onClick"])):((0,s.uX)(),(0,s.CE)("div",k,(0,c.v_)(l),1))]))),128))]),P(e)?((0,s.uX)(),(0,s.CE)("div",S,[(0,s.bF)(d.D,{class:"mt-4",color:"primary",onClick:l=>j(e)},{default:(0,s.k6)(()=>[...l[1]||(l[1]=[(0,s.eW)(" Count total ",-1)])]),_:1},8,["onClick"]),(0,s.Lk)("div",O,[(0,s.Lk)("div",F,[l[2]||(l[2]=(0,s.Lk)("div",null,"Bonus",-1)),(0,s.Lk)("div",x,(0,c.v_)(e.bonus),1)]),(0,s.Lk)("div",_,[l[3]||(l[3]=(0,s.Lk)("div",null,"Total",-1)),(0,s.Lk)("div",w,(0,c.v_)(e.total),1)])])])):(0,s.Q3)("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(0,s.bF)(h.p,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),"max-width":"300px"},{default:(0,s.k6)(()=>[(0,s.bF)(v.J,null,{default:(0,s.k6)(()=>[(0,s.bF)(m.O,{class:"pa-4",style:{"text-align":"center"}},{default:(0,s.k6)(()=>[(0,s.bF)(y.w,{class:"mb-2",color:"primary"},{default:(0,s.k6)(()=>[...l[4]||(l[4]=[(0,s.eW)("mdi-party-popper",-1)])]),_:1}),l[5]||(l[5]=(0,s.Lk)("div",{class:"mb-2 font-weight-bold"},"Woop! You got a Yatzy!",-1)),R.value?((0,s.uX)(),(0,s.CE)("div",K,(0,c.v_)(R.value),1)):(0,s.Q3)("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),C=t(1396);const L=(0,C.A)(R,[["__scopeId","data-v-09c836d2"]]);var E=L,j=t(2526),P=t(3213),A=t(8296),z=t(9780),V=t(1557);const X={class:"app-container"},Y={key:0,class:"d-flex mb-8 justify-center align-center"},T={class:"font-weight-bold"},W={class:"d-flex mb-8 justify-center align-center"},D={class:"d-flex justify-center"},I={class:"game-rules-container mt-8"},H={class:"mx-auto rules-expanded"};var N=(0,s.pM)({__name:"GameContainer",setup(e){const l=(0,f.KR)([]),t=(0,f.KR)(null),r=(0,f.KR)(0),n=(0,f.KR)([(0,f.KR)(0),(0,f.KR)(0),(0,f.KR)(0),(0,f.KR)(0),(0,f.KR)(0)]),u=(0,f.KR)([]),o=(0,f.KR)(!1),p=(0,f.KR)(!1),b=(0,f.KR)(1),k=(0,f.KR)(null);(0,s.sV)(()=>{p.value=!0});const S=()=>{l.value=[];for(let e=0;e<b.value;e++)l.value.push({name:`Player ${e+1}`,turn:0===e,scores:{ones:null,twos:null,threes:null,fours:null,fives:null,sixes:null,threeOfAKind:null,fourOfAKind:null,fullHouse:null,smallStraight:null,largeStraight:null,chance:null,yatzy:null},bonus:0,total:0});k.value?.generatePlayersAndScores(b.value),t.value=l.value[0]??null,p.value=!1},O=()=>{if(!t.value)return;const e=l.value[(l.value.indexOf(t.value)+1)%l.value.length];t.value=e,r.value=0,t.value.turn=!0,l.value.forEach(e=>{e.name!==t.value?.name&&(e.turn=!1)}),_()},F=()=>{0===r.value||0===u.value.length?n.value.forEach(e=>{e.value=i.getRandomInt(1,6)}):u.value.forEach(e=>{n.value[e].value=i.getRandomInt(1,6)}),k.value?.showYatzyDialogIfYatzy(),r.value++,u.value=[]},x=()=>{_(),l.value.forEach(e=>{e.turn=!1}),l.value.length&&(l.value[0].turn=!0,t.value=l.value[0]),k.value?.resetScoreSheets()},_=()=>{n.value.forEach(e=>e.value=0),r.value=0,u.value=[]};return(e,i)=>((0,s.uX)(),(0,s.CE)("div",X,[(0,s.bF)(A.L,{"justify-sm":l.value.length%2!==0?"space-between":"start"},{default:(0,s.k6)(()=>[(0,s.bF)(g.B,{xs:"12",sm:"12",md:"4"},{default:(0,s.k6)(()=>[(0,s.bF)(v.J,{class:"dice-container"},{default:(0,s.k6)(()=>[(0,s.bF)(m.O,{class:"d-flex flex-column justify-space-between",style:{height:"100%"}},{default:(0,s.k6)(()=>[(0,s.Lk)("div",null,[l.value.length?((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.bF)(y.w,{class:"mr-4"},{default:(0,s.k6)(()=>[...i[5]||(i[5]=[(0,s.eW)("mdi-dice-multiple-outline",-1)])]),_:1}),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,e=>(0,s.bo)(((0,s.uX)(),(0,s.Wv)(j.x,{key:e.name,class:"mr-4",label:"",color:e.turn?"primary":"grey"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",T,(0,c.v_)(e.name),1)]),_:2},1032,["color"])),[[a.aG,e.turn]])),128))])):(0,s.Q3)("",!0),(0,s.Lk)("div",W,[(0,s.bF)(d.D,{class:"mr-4",onClick:F,flat:"",color:"primary",disabled:3===r.value},{default:(0,s.k6)(()=>[...i[6]||(i[6]=[(0,s.eW)(" Roll the dice ",-1)])]),_:1},8,["disabled"]),(0,s.bF)(j.x,{color:"primary"},{default:(0,s.k6)(()=>[(0,s.eW)((0,c.v_)(r.value),1)]),_:1})]),(0,s.Lk)("div",D,[(0,s.bF)(P.mt,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value=e),multiple:"",variant:"outlined",disabled:0===r.value||3===r.value},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.value,(e,l)=>((0,s.uX)(),(0,s.Wv)(j.x,{key:l,class:(0,c.C4)(l<n.value.length-1?"mr-4":""),color:"primary",label:""},{default:(0,s.k6)(()=>[(0,s.eW)((0,c.v_)(e),1)]),_:2},1032,["class"]))),128))]),_:1},8,["modelValue","disabled"])]),(0,s.Lk)("div",I,[(0,s.Lk)("div",{class:"font-weight-bold expand-rules-btn",onClick:i[1]||(i[1]=e=>o.value=!o.value)}," How to play? "),(0,s.bF)(V.Qo,null,{default:(0,s.k6)(()=>[(0,s.bo)((0,s.Lk)("div",H,[...i[7]||(i[7]=[(0,s.Lk)("div",{class:"mb-8 mt-8"},"Roll all dice",-1),(0,s.Lk)("div",null,"Select the field you want to insert your socre",-1),(0,s.Lk)("div",{class:"font-weight-bold mt-2 mb-2"},"OR",-1),(0,s.Lk)("div",null," Roll again. You can select the dice you want to roll by clicking them. You can roll the dice up to 3 times during your turn. ",-1)])],512),[[a.aG,o.value]])]),_:1})])]),(0,s.bF)(d.D,{class:"mt-8",color:"primary",flat:"",onClick:x},{default:(0,s.k6)(()=>[...i[8]||(i[8]=[(0,s.eW)(" Play again ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),(0,s.bF)(E,{ref_key:"scoreSheetContainer",ref:k,numberOfPlayers:l.value.length,currentPlayer:t.value,dice:n.value,numberOfRolls:r.value,onSwithPlayer:O},null,8,["numberOfPlayers","currentPlayer","dice","numberOfRolls"])]),_:1},8,["justify-sm"]),(0,s.bF)(h.p,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=e=>p.value=e),"max-width":"300px",persistent:!0},{default:(0,s.k6)(()=>[(0,s.bF)(v.J,null,{default:(0,s.k6)(()=>[(0,s.bF)(m.O,{class:"pa-4",style:{"text-align":"center"}},{default:(0,s.k6)(()=>[(0,s.bF)(z.W,{modelValue:b.value,"onUpdate:modelValue":i[2]||(i[2]=e=>b.value=e),label:"Number of players",min:"1",variant:"outlined"},null,8,["modelValue"]),(0,s.bF)(d.D,{class:"mt-4",color:"primary",block:"",onClick:i[3]||(i[3]=e=>S())},{default:(0,s.k6)(()=>[...i[9]||(i[9]=[(0,s.eW)(" Add players ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});const G=(0,C.A)(N,[["__scopeId","data-v-3c611f75"]]);var J=G,M=function(e,l,t,a){var r,n=arguments.length,s=n<3?l:null===a?a=Object.getOwnPropertyDescriptor(l,t):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,l,t,a);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(s=(n<3?r(s):n>3?r(l,t,s):r(l,t))||s);return n>3&&s&&Object.defineProperty(l,t,s),s};let U=class extends o.lD{};U=M([(0,o.JY)({components:{GameContainer:J}})],U);var Q=U;const B=(0,C.A)(Q,[["render",u]]);var $=B;const q=(0,a.Ef)($);q.use(n),q.mount("#app")}},l={};function t(a){var r=l[a];if(void 0!==r)return r.exports;var n=l[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(l,a,r,n){if(!a){var s=1/0;for(i=0;i<e.length;i++){a=e[i][0],r=e[i][1],n=e[i][2];for(var u=!0,o=0;o<a.length;o++)(!1&n||s>=n)&&Object.keys(t.O).every(function(e){return t.O[e](a[o])})?a.splice(o--,1):(u=!1,n<s&&(s=n));if(u){e.splice(i--,1);var c=r();void 0!==c&&(l=c)}}return l}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,r,n]}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var r,n,s=a[0],u=a[1],o=a[2],c=0;if(s.some(function(l){return 0!==e[l]})){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(o)var i=o(t)}for(l&&l(a);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(i)},a=self["webpackChunkyatzy"]=self["webpackChunkyatzy"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],function(){return t(9534)});a=t.O(a)})();
//# sourceMappingURL=app.72bc7850.js.map